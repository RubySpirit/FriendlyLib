<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <property name="ADMIN_ROLE_ID" value="1"/>
    <property name="ADMIN_USER_ID" value="1"/>
    <property name="LIBRARIAN_ROLE_ID" value="2"/>
    <property name="READER_ROLE_ID" value="3"/>

    <changeSet author="RubySpirit" id="2021-11-03-insert-roles">
        <insert tableName="roles">
            <column name="id" value="${ADMIN_ROLE_ID}"/>
            <column name="name" value="ADMIN"/>
        </insert>
        <insert tableName="roles">
            <column name="id" value="${LIBRARIAN_ROLE_ID}"/>
            <column name="name" value="LIBRARIAN"/>
        </insert>
        <insert tableName="roles">
            <column name="id" value="${READER_ROLE_ID}"/>
            <column name="name" value="READER"/>
        </insert>
    </changeSet>
    <changeSet author="RubySpirit" id="2021-11-03-insert-admin-user">
    <insert tableName="users">
            <column name="first_name" value="admin_first_name"/>
            <column name="last_name" value="admin_last_name"/>
            <column name="email" value="admin@friendlylib.com"/>
            <column name="phone" value="517071670"/>
            <column name="password" value="$2a$11$VvT1nv.AC0/BXJ7kaR5PM.Q.DS4iT7DIjCtcaPPvUsW6tQNh8.khG"/>
            <column name="active" valueBoolean="true"/>
        </insert>
    </changeSet>

    <changeSet author="RubySpirit" id="2021-11-03-join-user-with-admin-role">
    <insert tableName="role_assignment">
            <column name="user_id" value="${ADMIN_USER_ID}"/>
            <column name="role_id" value="${ADMIN_ROLE_ID}"/>
        </insert>
    </changeSet>
</databaseChangeLog>
